#( 
    --------------------------------
    TRANSCRIPTION
    --------------------------------
    In bellplay, variable declarations should be local (i.e., $<varname> instead <varname>) to prevent namespacing collisions.
    Only use global declarations when absolutely necessary, and make sure your variable name does not already exist in bellplay~.
    If you accidentally use a global variable that already exists in bellplay~, simply restart the application to restore the values.
)#
$buff = tri();

$numnotes = 25;
$N = $numnotes - 1;
$totaldur = 1500;
for $i in 0...$N do (
    $progress = $i / ($numnotes - 1);
    $onset = $progress * $totaldur;
    $pan = $progress;
    $gain = (1 - $progress) ** 2;
    $detune = 1200 * $progress;
    $buff.transcribe(
        @onset $onset 
        @gain $gain 
        @detune $detune
        @pan $pan
    )
);

render(@play 1)