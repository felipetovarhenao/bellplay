"use strict";(self.webpackChunkbellplay_docs=self.webpackChunkbellplay_docs||[]).push([[6045],{2241:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"learning/tutorials/randomness","title":"8. Randomness","description":"Randomness is frequently used in algorithmic music to introduce variation and unpredictability. However, in many compositional workflows, reproducibility is just as important. In bellplay\\\\~, there are two types of random functions:","source":"@site/docs/learning/tutorials/randomness.md","sourceDirName":"learning/tutorials","slug":"/learning/tutorials/randomness","permalink":"/docs/learning/tutorials/randomness","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"8. Randomness"},"sidebar":"tutorialSidebar","previous":{"title":"7. Markers","permalink":"/docs/learning/tutorials/markers"},"next":{"title":"9. Automation","permalink":"/docs/learning/tutorials/automation"}}');var i=s(4848),d=s(8453);const t={sidebar_position:7,title:"8. Randomness"},o="Randomness",l={},c=[{value:"<code>rand</code> vs <code>xrand</code>",id:"rand-vs-xrand",level:2},{value:"<code>choose</code> vs <code>xchoose</code>",id:"choose-vs-xchoose",level:2},{value:"<code>xscramble</code>: Seeded Shuffling",id:"xscramble-seeded-shuffling",level:2},{value:"<code>urn</code>: Controlled Non-Repetition",id:"urn-controlled-non-repetition",level:2},{value:"Putting It All Together",id:"putting-it-all-together",level:2},{value:"Summary",id:"summary",level:2}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"randomness",children:"Randomness"})}),"\n",(0,i.jsxs)(n.p,{children:["Randomness is frequently used in algorithmic music to introduce variation and unpredictability. However, in many compositional workflows, ",(0,i.jsx)(n.strong,{children:"reproducibility"})," is just as important. In ",(0,i.jsx)(n.strong,{children:"bellplay~"}),", there are two types of random functions:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unseeded"}),": always produce different results.\nExamples: ",(0,i.jsx)(n.code,{children:"rand"}),", ",(0,i.jsx)(n.code,{children:"choose"}),", ",(0,i.jsx)(n.code,{children:"urn"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Seeded"})," (prefixed with ",(0,i.jsx)(n.code,{children:"x"}),"): produce the same result each time when a non-zero seed is set.\nExamples: ",(0,i.jsx)(n.code,{children:"xrand"}),", ",(0,i.jsx)(n.code,{children:"xchoose"}),", ",(0,i.jsx)(n.code,{children:"xrandom"}),", ",(0,i.jsx)(n.code,{children:"xscramble"}),", ",(0,i.jsx)(n.code,{children:"urn"})," (when seeded via ",(0,i.jsx)(n.code,{children:"setseed"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The seeded variants allow you to control randomness and make your scripts deterministic and repeatable."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"rand-vs-xrand",children:[(0,i.jsx)(n.code,{children:"rand"})," vs ",(0,i.jsx)(n.code,{children:"xrand"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"rand"})," function produces a random float and is ",(0,i.jsx)(n.strong,{children:"not"})," seedable."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bell",children:"## will return a different result every time\nprint(rand(0, 1))\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In contrast, ",(0,i.jsx)(n.code,{children:"xrand"})," is a seeded version:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bell",children:"## set the random seed\nsetseed(@seed 42);\n## will return the same value every time the script is run\nprint(xrand(0, 1))\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"setseed"})," is not called, the default seed for all seeded functions is ",(0,i.jsx)(n.code,{children:"1"}),"."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"choose-vs-xchoose",children:[(0,i.jsx)(n.code,{children:"choose"})," vs ",(0,i.jsx)(n.code,{children:"xchoose"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"choose"})," selects elements from a list, non-deterministically:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bell",children:"$files = 'flute.wav' 'viola.wav' 'guitar.wav';\nprint(choose(@choices $files))\n"})}),"\n",(0,i.jsxs)(n.p,{children:["With ",(0,i.jsx)(n.code,{children:"xchoose"}),", the result becomes reproducible if a seed is set:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bell",children:"setseed(@seed 99);\n$files = 'flute.wav' 'viola.wav' 'guitar.wav';\nprint(xchoose(@choices $files))\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"xscramble-seeded-shuffling",children:[(0,i.jsx)(n.code,{children:"xscramble"}),": Seeded Shuffling"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"xscramble"})," function randomly reorders a list, but deterministically with a seed."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bell",children:"setseed(@seed 7);\n$items = 1 2 3 4 5;\nprint(xscramble(@llll $items))\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"urn-controlled-non-repetition",children:[(0,i.jsx)(n.code,{children:"urn"}),": Controlled Non-Repetition"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"urn"})," function generates unique numbers without repetition. It can be seeded using ",(0,i.jsx)(n.code,{children:"setseed"}),", enabling deterministic but non-repeating behavior."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bell",children:"setseed(@seed 2025);\niniturn(\n    @id 'myseq' \n    @size 4\n    @useseed 1\n);\nfor $i in (0...10) do (\n    print(urn(@id 'myseq')) \n)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"putting-it-all-together",children:"Putting It All Together"}),"\n",(0,i.jsxs)(n.p,{children:["The following script demonstrates how to use ",(0,i.jsx)(n.code,{children:"setseed"})," to control different parameters."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bell",metastring:'title="randomness.bell" showLineNumbers',children:"## set seed for deterministic random behavior (try 0 to disable it)\nsetseed(120);\n## initialize onset time\n$t = 0;\n## total duration of the sequence in milliseconds\n$totdur = 10000;\n## define pitch class set (in symbolic pitch notation)\n$chord = c5 d5 e5 g5 b5;\n## generate events until reaching total duration\nwhile $t < $totdur do (\n    ## randomly select a pitch from the chord\n    $pitch = xchoose($chord);\n    ## choose a random octave transposition (\xb12 octaves, in midicents)\n    $octave = xrandom(-2, 3) * 1200;\n    ## randomly stereo panning (0 to 1)\n    $pan = xrand();\n    ## randomly choose duration between 1 and 5 seconds\n    $dur = xrand(1000, 5000);\n    ## randomly set gain (from soft to loud)\n    $gain = xrand(0.25, 1);\n    ## create a buffer using ezsampler with random pitch and duration\n    $b = ezsampler(@pitch $pitch + $octave @duration $dur);\n    ## transcribe the buffer with randomized parameters\n    $b.transcribe(\n        @onset $t\n        @pan $pan\n        @gain $gain\n    );\n    ## increment time by a small random step to control event density\n    $incr = xrand(25, 300);\n    $t += $incr\n);\n## render and apply subtle reverb\nrender(\n    @play 1 @process freeverb(\n        @roomsize 0.7\n        @damp 0.8\n        @width 0.25\n        @wet 0.1\n    ) \n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Function"}),(0,i.jsx)(n.th,{children:"Seeded?"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Use Case"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rand"})}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"quick randomness"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"xrand"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"reproducible randomness"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"choose"})}),(0,i.jsx)(n.td,{children:"\u274c"}),(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"random choice"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"xchoose"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"repeatable random choice"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"xscramble"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"list"}),(0,i.jsx)(n.td,{children:"deterministic shuffling"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"urn"})}),(0,i.jsxs)(n.td,{children:["\u2705 (via ",(0,i.jsx)(n.code,{children:"setseed"}),")"]}),(0,i.jsx)(n.td,{children:"int"}),(0,i.jsx)(n.td,{children:"deterministic non-repeating"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Using ",(0,i.jsx)(n.code,{children:"setseed"})," lets you design stochastic processes that behave consistently, which is particularly useful in collaborative work, score rendering, or iterative design."]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var r=s(6540);const i={},d=r.createContext(i);function t(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);